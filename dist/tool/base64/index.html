<!DOCTYPE html>
<html>
<head lang="zh-CN">
		
	<title>base64编码转换-好记么</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta charset="utf-8"/>
	<meta name="renderer" content="webkit">
	<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
	<meta name="description" content="base64编码转换-好记么">
	<link rel="icon" href="http://haoji.me/favicon.png" type="image/png">
	<link rel="stylesheet" href="http://res.haoji.me/lib/bootstrap/3.3.1/css/bootstrap.min.css">
	<link rel="stylesheet" href="http://res.haoji.me/lib/bootstrap/3.3.1/css/bootstrap-theme.css">
	<style>
	.navbar-default {
		background-color: #41ABF7;
    	background-image: none;
    	color: white;
	}
	.navbar-default .navbar-brand {
		color: white;
		font-size: 18px;
	}
	.navbar-default .navbar-nav > li > a {
		color: white;
		text-shadow: 0 1px 0 rgba(0, 0, 0, 0.38);
    	font-size: 16px;
	}
	.navbar-default .navbar-nav.nav-hover-dropdown>li:hover>a {
		background-image: none !important;
		background: white;
		color: #2a2a2a;
		text-shadow: 1px 1px 1px #e2dddd;
	}
	</style>
	<style>
	#btn
	{
		width: 400px;
		height: 400px;
		border: dashed 2px rgba(226, 89, 247, 0.87);
		margin: 20px 0px;
		background-color: rgba(174, 255, 187, 0.64);
		text-align: center;
		line-height: 400px;
	}
	#result
	{
		width: 100%;
		height: 400px;
		resize: none;
		border-radius: 5px;
		box-shadow: 0 0 11px #15A8FA;
		border: solid 1px #15A8FA;
		margin-top: 15px;
		padding: 10px 12px;
	}
	.allow_drop
	{
		border: solid 1px green !important;
	}
	</style>
<link href="//res.haoji.me/bundle/common.css?v=d64a6f24" rel="stylesheet"></head>
<body>
	
	<nav class="navbar navbar-default navbar-fixed-top">
		<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#top_navbar">
					<span class="sr-only"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="//haoji.me">好记么</a>
			</div>

			<div class="collapse navbar-collapse" id="top_navbar">
				<ul class="nav navbar-nav nav-hover-dropdown">
					
						<li class="dropdown">
							
								<a href="/"  >工具首页</a>
							
						</li>
					
						<li class="dropdown">
							
								<a href="javascript:;" class="dropdown-toggle" data-toggle="dropdown">
									格式化 <span class="caret"></span>
								</a>
								<ul class="dropdown-menu">
									
										
										<li  >
											<a href="/json-format/" class="nav-menu-item-icon"  >
												<i class="fa fa-thumbs-up"></i>JSON格式化
											</a>
										</li>
									
										 <li class="divider"></li> 
										<li  >
											<a href="/#/" class="nav-menu-item-icon"  >
												<i class="fa fa-"></i>CSS格式化
											</a>
										</li>
									
										
										<li  >
											<a href="/#/" class="nav-menu-item-icon"  >
												<i class="fa fa-"></i>HTML格式化
											</a>
										</li>
									
								</ul>
							
						</li>
					
						<li class="dropdown">
							
								<a href="javascript:;" class="dropdown-toggle" data-toggle="dropdown">
									编码/转换 <span class="caret"></span>
								</a>
								<ul class="dropdown-menu">
									
										
										<li class="active" >
											<a href="/base64/" class="nav-menu-item-icon"  >
												<i class="fa fa-"></i>base64编码转换
											</a>
										</li>
									
										
										<li  >
											<a href="/jinzhi/" class="nav-menu-item-icon"  >
												<i class="fa fa-"></i>任意进制转换
											</a>
										</li>
									
										
										<li  >
											<a href="/url-encode/" class="nav-menu-item-icon"  >
												<i class="fa fa-"></i>URL编码
											</a>
										</li>
									
										
										<li  >
											<a href="/md5/" class="nav-menu-item-icon"  >
												<i class="fa fa-"></i>MD5加密
											</a>
										</li>
									
										
										<li  >
											<a href="/pinyin/" class="nav-menu-item-icon"  >
												<i class="fa fa-"></i>汉语拼音互转
											</a>
										</li>
									
								</ul>
							
						</li>
					
						<li class="dropdown">
							
								<a href="/idcard/"  >身份证</a>
							
						</li>
					
						<li class="dropdown">
							
								<a href="//post.haoji.me/" target="_blank" >API调用</a>
							
						</li>
					
				</ul>
				<ul class="nav navbar-nav navbar-right">
					<li><a href="/">工具首页</a></li>
				</ul>
			</div>
		</div>
	</nav>
	
	<div class="container">
		<section>
			<ol class="breadcrumb">
				<li><a href="//haoji.me">首页</a></li>
				<li><a href="/">工具</a></li>
				
					<li class="active">base64编码转换</li>
				
			</ol>
		</section>
	</div>


	<div class="container">
		<h2 class="page-title">base64编码转换</h2>
		<div class="row">
			<div class="col-md-6">
				<div id="btn">拖拽文件到这里或者点击浏览文件生成base64</div>
			</div>
			<div class="col-md-6">
				<textarea id="result" placeholder="base64结果(请按下Ctrl+C复制)"></textarea>
				<input type="file" id="hide_file" style="display:none;"/>
			</div>
		</div>
	</div>
	
		
	<script src="http://res.haoji.me/lib/jquery/2.1.1/jquery.js"></script>
	<script src="http://res.haoji.me/lib/bootstrap/3.3.1/js/bootstrap.min.js"></script>
	<script src="http://res.haoji.me/lib/xei/xei.js"></script>

	<script type="text/javascript">
	(function() {
		var btn = document.getElementById('btn');
		var hide_file = document.getElementById('hide_file');
		var result = document.getElementById('result');
		btn.addEventListener('click', function()
		{
			hide_file.click();
		});
		hide_file.addEventListener('change', function(e)
		{
			console.log(e);
			readFiles(this.files);
		});
		//MIME type类型映射
		var MIME =
		{
			ttf: 'font/truetype',
			woff: 'font/woff'
		}
		function readFiles(files)
		{
			console.log(files);
			if(files.length <= 0) return;//这里只处理第一个文件
			var file = files[0];
			var type = file.type;
			if(!type)//未知格式时type会为空
			{
				var suffix = file.name.substring(file.name.lastIndexOf('.')+1);
				type = MIME[suffix];
			}
			var reader = new FileReader();
			reader.onload = function(e)
			{
				var base64 = this.result;
				base64 = base64.replace(/data:.*?;/g, 'data:'+type+';');
				result.value = base64;
				result.select();
				result.focus();
			}
			reader.readAsDataURL(file);
		}

		btn.addEventListener('dragover', function(e)
		{
			e.preventDefault();
		});
		btn.addEventListener('dragenter', function(e)
		{
			btn.className = 'allow_drop';
		});
		btn.addEventListener('dragend', function(e)
		{
			btn.className = '';
		});
		btn.addEventListener('dragleave', function(e)
		{
			btn.className = '';
		});
		btn.addEventListener('drop', function(e)
		{
			btn.className = '';
			e.preventDefault();
			console.log(e);
			readFiles(e.dataTransfer.files);
		});
	})();
	</script>
<script type="text/javascript" src="//res.haoji.me/bundle/common.js?v=7c6b5953"></script><script type="text/javascript" src="/base64/index.js?v=6a45ca90"></script></body>
</html>